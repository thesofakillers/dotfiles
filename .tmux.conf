set-option -g set-clipboard on
set -g mouse on
set -sg escape-time 10
set -g focus-events on
set -g default-terminal "tmux-256color"
set-option -g renumber-windows on # https://stackoverflow.com/a/18953148/9889508
# Keep this deterministic so repeated source-file does not duplicate entries.
set-option -g terminal-overrides 'linux*:AX@,xterm-256color:RGB:Ms=\E]52;c;%p2%s\007,tmux-256color:RGB:Ms=\E]52;c;%p2%s\007'
# Keep tmux default env sync and include COLORTERM exactly once.
set-option -g update-environment 'DISPLAY KRB5CCNAME SSH_ASKPASS SSH_AUTH_SOCK SSH_AGENT_PID SSH_CONNECTION WINDOWID XAUTHORITY COLORTERM'

# keybindings
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"
bind -n C-S-Left swap-window -d -t -1
bind -n C-S-Right swap-window -d -t +1
# Force selection copy path (not copy-pipe) so set-clipboard reliably exports.
bind -T copy-mode-vi Enter send-keys -X copy-selection-and-cancel
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-selection-and-cancel
bind -T copy-mode Enter send-keys -X copy-selection-and-cancel
bind -T copy-mode MouseDragEnd1Pane send-keys -X copy-selection-and-cancel

# plugins
set -g @plugin 'tmux-plugins/tmux-resurrect'

# script to run
run '~/.tmux/plugins/tpm/tpm'
